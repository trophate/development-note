动态规划（Dynamic Programming，DP）

<br/>

# 原理

对于动态规划，比较贴合的一个现实例子就是心理测试。

当我们开始做题，它会给出固定的第一题，它有多个选项， 每个选项都可能跳转到不同的下一题，完成答题就能得到结果，得到结果所答题目数也可能不同。

现在我想得到某个结果，我该如何作答？或者最少的答题数是多少？又或能否通过答题得到这个结果？这类问题就可以使用动态规划求解。

<br/>

## 概念

### 1. 多阶段决策问题

这类问题的过程可以分为多个相互关联的阶段，每个阶段需要做出决策，决策会影响到下个阶段的决策选项。各阶段决策共同构成一个序列，被称为策略，策略会确定一个结果。多阶段决策问题即在所有策略中选出能够达成结果的最优策略。上述基于心理测试产生的问题就是多阶段决策问题。

### 2. 决策

是一个阶段中的可选项。心理测试中的问题的选项就是决策。

### 3. 状态

阶段开始所面临的客观条件，状态会影响决策的数量和内容。以心理测试为例，当我们第一个问题选A时，第二个问题跳转到了问题3，当我们选B时，第二个问题跳转到了问题5，这里第二个问题是哪个问题就是第二个问题的状态。

### 4. 无后效性

无后效性指某阶段的状态确定了，那之后的发展不会受该阶段以前各阶段的影响。以心理测试为例，如果当前问题是问题15，那么无论之前是通过怎么一个过程到问题15的，都不影响后续答题。

<br/>

动态规划就是用来解决多阶段决策问题的方法。动态规划中会产生重复的子问题，为了避免对问题的重复求解，会存储每次的解。

<br/>

# 适用条件

1. 问题具有最优子结构性质。

   ## 最优子结构

   问题的最优解一定包含子问题的最优解。即可以通过求解最子问题最优解反推问题的最优解。

2. 无后效性。

3. 重复子问题。

<br/>

# 求解思路

1. 构建问题的状态转移方程式。

   ## 状态转移方程式

   用于表示前后阶段关系的方程式，是多阶段决策问题公式体现。方程式如下：f(k+1)=g(f(k),m)，其中f(x)表示当前状态，g(a,b)表示状态转移方程，k表示阶段，m表示在阶段k的决策。方程表示当前状态由上阶段的状态与决策决定。

2. 确定初始值和边界值。

3. 存储过程（子问题的）解。

<br/>

如何构建有效的状态转移方程式即是使用动态规划的难点。构建没有固定套路，需要结合问题的特点并使用一定的技巧才能完成。